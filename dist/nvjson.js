!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.NVJSON=e():t.NVJSON=e()}(this,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e){function n(t){return Object.entries(t).length}function n(t){return Object.entries(t).length}t.exports={gen_guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){let e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))},range:function(t,e){return Array.from({length:e-t}).map((e,n)=>n+t)},seqs_slct:function(t,e){return e.filter((e,n)=>t.includes(n))},dict_length:n,is_empty_dict:function(t){return 0===Object.entries(t).length},dict_values:function(t){return Object.entries(t).map(t=>t[1])},dict_keys:function(t){return Object.entries(t).map(t=>t[0])},dict_map:function(t,e){for(let n in t)t[n]=e(n,t[n]);return t},dict_foreach:function(t,e){for(let n in t)e(n,t[n]);return t},dict_length:n,dict_plus:function(t,e){for(let n in e)t[n]=e[n];return t},dict_update:function(t,e){for(let n in e){!(n in t)&&(t[n]=e[n])}return t},dtb_kv_rm:function(t,e,n){return n=n.filter(n=>n[t]!==e)},dtb_kv_get_seq:function(t,e,n){return n.findIndex(n=>n[t]===e)},dcp:function(t){return JSON.parse(JSON.stringify(t))},mat_map:function(t,e){for(let n=0;n<t.length;n++){lyr=t[n];for(let r=0;r<lyr.length;r++)t[n][r]=e(t[n][r],n,r)}return t},is_cu_property:function(t){let e="_"!==t[0],n="$"!==t[0];return e&&n}}},function(t,e,n){const r=n(0);function i(t){if(r.is_empty_dict(t))return 0;{let e=r.dict_keys(t);return Math.max(...e)+1}}function o(t){return null!=t}function u(t,e){return t._id=t._id+e,t._tree=t._tree+e,o(t._fstch)&&(t._fstch=t._fstch+e),o(t._lsib)&&(t._lsib=t._lsib+e),o(t._rsib)&&(t._rsib=t._rsib+e),o(t._parent)&&(t._parent=t._parent+e),t}function s(t,e){let n=i(t);for(let t in e){let r=u(e[t],n);e[r._id]=r,delete e[t]}return e}function l(t){return void 0!==t._tree}function f(t){let e=void 0!==t._tree,n=t._tree===t._id;return e&&n}function c(t){return null===t._lsib}function a(t){return null===t._rsib}function h(t){return null===t._fstch}function _(t,e){if(f(t))return!0;return 1===S(L(t,e),e).length}function d(t){return f(t)||!l(t)}function p(t,e,n){if(!d(e))return console.log("only root or uninited could be prepend"),t;let r=h(t);if(e._tree=t._tree,e._lsib=null,r)e._rsib=null,e._parent=t._id;else{let r=n[t._fstch];r._lsib=void 0,e._rsib=r._id,e._parent=void 0}return t._fstch=e._id,n[e._id]=e,t}function g(t,e,n){if(!d(e))return console.log("only root or uninited could be append"),t;let r=h(t);if(e._tree=t._tree,e._rsib=null,r)t._fstch=e._id,e._lsib=null;else{let r=j(t,n);r._parent=void 0,r._rsib=e._id,e._lsib=void 0}return e._parent=t._id,n[e._id]=e,t}function y(t,e,n){if(!d(e))return console.log("only root or uninited could be add"),t;if(f(t))return console.log("cant addrsib to root"),t;let r=a(t);return e._tree=t._tree,r?(e._parent=t._parent,t._parent=void 0,e._rsib=null):(e._rsib=t._rsib,e._parent=void 0),t._rsib=e._id,e._lsib=void 0,n[e._id]=e,t}function b(t,e,n){if(!d(e))return console.log("only root or uninited could be add"),t;if(f(t))return console.log("cant addlsib to root"),t;let r=c(t);if(e._tree=t._tree,r){let r=L(t,n);t._lsib=void 0,e._lsib=null,r._fstch=e._id}else{U(t,n)._rsib=e._id,e._lsib=void 0}return e._rsib=t._id,e._parent=void 0,n[e._id]=e,t}function v(t,e,n,r){let i=S(e,r),o=i.length;if(0===o)return p(e,n,r);if(t<=o&&t>=0){if(0===t)return p(e,n,r);if(t===o)return g(e,n,r);return y(i[t-1],n,r)}return console.log("not in range!!"),e}function m(t,e){for(let n in e)e[n]._tree=t._tree}function $(t,e){let n=F(t,e),r=n[0]._id;return n.forEach(t=>{t._tree=r}),n}function w(t,e){let n={};return t.map(t=>{let r=t._id;n[r]=t,delete e[r]}),n}function x(t){return t._fstch=null,t}function E(t){return t._lsib=null,t._rsib=null,t._parent=null,t}function O(t,e){if(f(t))return[t,e];if(_(t,e)){x(e[t._parent]);let n=w($(t,e),e);return E(t),[t,n]}if(c(t)){k(t,e)._lsib=null,L(t,e)._fstch=t._rsib;let n=w($(t,e),e);return E(t),[t,n]}if(a(t)){let n=U(t,e);n._rsib=t._rsib,n._parent=t._parent;let r=w($(t,e),e);return E(t),[t,r]}{U(t,e)._rsib=t._rsib;let n=w($(t,e),e);return E(t),[t,n]}}function A(t,e){return null===t._fstch?null:e[t._fstch]}function S(t,e){let n=[],r=A(t,e);for(;null!==r;)n.push(r),r=k(r,e);return n}function j(t,e){let n=S(t,e);return 0===n.length?null:n[n.length-1]}function T(t,e,n){let r=S(e,n);if(0===r.length)return null;return t>r.length-1||t<0?null:r[t]}function P(t,e,...n){let r=S(t,e),i=[];if(0===r.length);else for(let t=0;t<n.length;t++){let e=n[t];e>r.length-1||e<0||i.push(r[e])}return i}function R(t,e,n=!1){let r=t,i=k(t,e);for(;null!==i;)r=i,i=k(i,e);return n||r._id!==t._id?r:null}function B(t,e,n=!1){let i,o=L(t,e);return i=null!==o?S(o,e):[t],n||(i=r.dtb_kv_rm("_id",t._id,i)),i}function U(t,e){let n=B(t,e,!0),i=r.dtb_kv_get_seq("_id",t._id,n);return 0===i?null:n[i-1]}function k(t,e){return null===t._rsib?null:e[t._rsib]}function I(t,e){return C(t,e,!0).length-1}function N(t,e){let n=I(t,e),r=F(t,e).map(t=>I(t,e));return Math.max(...r)-n+1}function M(t,e){let n=F(D(t,e),e),r=I(t,e);return n.filter(t=>I(t,e)===r)}function Y(t,e){let n=M(t,e);return r.dtb_kv_get_seq("_id",t._id,n)}function D(t,e){let n=t,r=L(t,e);for(;null!==r;)n=r,r=L(r,e);return n}function L(t,e){let n;if(f(t))n=null;else{n=e[R(t,e,!0)._parent]}return n}function C(t,e,n=!1){let r=[],i=L(t,e);for(;null!==i;)r.push(i),i=L(i,e);return n&&r.unshift(t),r}function z(t,e){let n=L(t,e);for(;null!==n;){let t=k(n,e);if(null!==t)return t;n=L(n,e)}return null}function J(t,e){let n=A(t,e);if(null!==n)return n;{let n=k(t,e);return null!==n?n:z(t,e)}}function q(t,e){let n=t,r=j(t,e);for(;null!==r;)n=r,r=j(r,e);return n}function F(t,e){let n=I(t,e),r=[];for(;null!==t;)if(r.push(t),null!==(t=J(t,e))){if(I(t,e)<=n)break}return r}function H(t,e){let n=t,r=A(t,e);for(;null!==r;)n=r,r=A(r,e);return n}function V(t,e){let n=k(t,e);if(null===n){return L(t,e)}return H(n,e)}function G(t,e){let n=L(t,e);for(;null!==n;){let t=U(n,e);if(null!==t)return t;n=L(n,e)}return null}function Z(t,e){let n=[],r=H(t,e);for(;null!==r&&(n.push(r),r._id!==t._id);)r=V(r,e);return n}function X(t){r.dict_foreach(t,(e,n)=>{t[e]._$visited=!1})}function K(t,e){let n=t._$visited;if(h(t)){if(n){let n=k(t,e);return null===n?L(t,e):n}return t._$visited=!0,t}if(n){let n=k(t,e);return null===n?L(t,e):n}return t._$visited=!0,A(t,e)}function Q(t,e){return e._$visited&&t===e._id}function W(t,e,n=!1,i=!0){let o=[];X(e);let u=t._id;for(;!Q(u,t);)n?o.push(r.dcp(t)):o.push(t),t=K(t,e);return n?o.push(r.dcp(t)):o.push(t),i&&X(e),o}function tt(t){let e={ele:{}};return e.nd=t,e.ele._id=t._id,e.ele._children=[],e}function et(t,e){let n=[],r=[tt(t[0])];for(r[0].ele._pbreadth=null;r.length>0;){let t=[];for(let i=0;i<r.length;i++){r[i].ele._breadth=i,r[i].ele._depth=n.length;let o=S(r[i].nd,e);o=o.map(t=>tt(t)),o.forEach((e,o)=>{e.ele._pbreadth=r[i].ele._breadth,r[i].ele._children.push([n.length+1,t.length+o])}),t=t.concat(o)}let i=r.map(t=>t.ele);n.push(i),r=t}return n}function nt(t,e){return Z(t[0],e)}function rt(t,e,n=!1,r=!0){return W(t[0],e,n,r)}function it(t,e){return F(t[t.length-1],e)}function ot(t,e){return F(t[0],e)}function ut(t,e,n=!1){let r=F(t,e);return n||r.splice(0,1),r}function st(t,e,n){let r=I(e,n),i=ut(e,n,!1);sdfs.map(t=>I(t,n));return i=i.filter(e=>I(e,n)===r+t),i}function lt(t){return D(t[r.dict_keys(t)[0]],t)}t.exports={calc_next_id:i,update_nodes_ids:s,creat_root:function(t=0){return{_id:t,_fstch:null,_lsib:null,_rsib:null,_parent:null,_tree:t}},creat_nd:function(t,e=0){return{_id:i(t)+e,_fstch:null,_lsib:void 0,_rsib:void 0,_parent:void 0,_tree:void 0}},is_inited:l,is_root:f,is_fstch:c,is_lstch:a,is_leaf:h,is_lonely:_,is_id:o,is_connectable:d,prepend_child:p,append_child:g,insert_child:v,add_rsib:y,add_lsib:b,get_fstch:A,get_rsib:k,get_children:S,get_lstch:j,get_which_child:T,get_some_children:P,get_fstsib:function(t,e,n=!1){let r=B(t,e,!0);return n?r[0]:r[0]._id===t._id?null:r[0]},get_lstsib:R,get_preceding_sibs:function(t,e){let n=B(t,e,!0),i=r.dtb_kv_get_seq("_id",t._id,n),o=[];if(0===n.length);else for(let t=0;t<n.length;t++){t<i&&o.push(n[t])}return o},get_following_sibs:function(t,e){let n=B(t,e,!0),i=r.dtb_kv_get_seq("_id",t._id,n),o=[];if(0===n.length);else for(let t=0;t<n.length;t++){t>i&&o.push(n[t])}return o},get_sibs:B,get_which_sib:function(t,e,n){let r=B(e,n,!0);return t<=r.length-1&&t>=0?r[t]:null},get_some_sibs:function(t,e,...n){let r=B(t,e,!0),i=[];if(0===r.length);else for(let t=0;t<n.length;t++){let e=n[t];e>r.length-1||e<0||i.push(r[e])}return i},get_sibseq:function(t,e){let n=B(t,e,!0);return r.dtb_kv_get_seq("_id",t._id,n)},get_lsib:U,get_rsib:k,get_lyr:M,get_breadth:Y,get_count:function(t,e){return F(t,e).length},get_depth:I,get_height:N,get_fst_lyr_des_depth:function(t,e){return h(t)?null:I(t,e)+1},get_lst_lyr_des_depth:function(t,e){if(h(t))return null;{I(t,e);let n=F(t,e).map(t=>I(t,e));return Math.max(...n)}},get_which_lyr_des_depth:function(t,e,n){let r=I(e,n);return N(e,n)<=t?null:r+t},get_root:D,get_parent:L,get_ances:C,get_which_ance:function(t,e,n){let r=C(e,n,!0);return t<r.length&&t>=0?r[t]:null},get_some_ances:function(t,e,...n){let r=C(t,e,!0),i=[];if(0===r.length);else for(let t=0;t<n.length;t++){let e=n[t];e>r.length-1||e<0||i.push(r[e])}return i},get_rsib_of_fst_ance_having_rsib:z,get_sdfs_next:J,get_drmost_des:q,get_sdfs_prev:function(t,e){if(f(t))return null;if(h(t)){let n=U(t,e);if(null!==n)return n;return L(t,e)}{let n=U(t,e);if(null!==n){return h(n)?n:q(n,e)}return L(t,e)}},get_sdfs:F,get_lsib_of_fst_ance_having_lsib:G,get_dlmost_des:H,get_edfs_next:V,get_edfs_prev:function(t,e){if(h(t)){let n=U(t,e);return null===n?G(t,e):n}return j(t,e)},get_edfs:Z,clear_$visited:X,get_sedfs_next:K,is_sedfs_traverse_finished:Q,get_sedfs_prev:function(t,e,n){if(h(e)){if(t)return e;{let t=U(e,n);return null===t?L(e,n):t}}if(t)return j(e,n);{let t=U(e,n);return null===t?L(e,n):t}},get_sedfs:W,get_deses:ut,get_fst_lyr_deses:function(t,e){return S(t,e)},get_lst_lyr_deses:function(t,e){let n=ut(t,e,!1),r=sdfs.map(t=>I(t,e)),i=Math.max(...r);return n=n.filter(t=>I(t,e)===i),n},get_which_lyr_deses:st,get_some_lyrs_deses:function(t,e,...n){let r=n.map(n=>st(n,t,e));return r=Array.prototype.concat(...r),r},nd2ele:function(t,e){let n={};n._depth=I(t,e),n._breadth=Y(t,e);let r=L(t,e);return n._pbreadth=null===r?null:Y(r,e),n._id=t._id,n},sdfs2mat:et,sdfs2edfs:nt,sdfs2sedfs:rt,edfs2mat:function(t,e){return et(it(t,e),e)},edfs2sdfs:it,edfs2sedfs:function(t,e,n=!1,r=!0){return rt(it(t,e),e,n,r)},sedfs2mat:function(t,e){return et(ot(t,e),e)},sedfs2sdfs:ot,sedfs2edfs:function(t,e){return nt(ot(t,e),e)},update_disconnected_nodes:$,update_orig_nodes:w,leafize:x,rootize:E,disconnect:O,rm_fstch:function(t,e){let n=A(t,e);return null===n?[t,e]:O(n,e)},rm_lstch:function(t,e){let n=j(t,e);return null===n?[t,e]:O(n,e)},rm_which:function(t,e,n){let r=T(t,e,n);return null===r?[e,n]:O(r,n)},rm_some:function(t,e,...n){let r=P(t,e,...whiches);for(let t=0;t<r.length;t++)O(r[t],e);return[t,e]},rm_all:function(t,e){let n=S(t,e);for(let t=0;t<n.length;t++)O(n[t],e);return e},update_treeid:m,update_one_nodeid:u,update_nodes_ids:s,prepend_child_tree:function(t,e,n){return m(t=p(t,D((n=s(e,n))[r.dict_keys(n)[0]],n),e),n),r.dict_plus(e,n),t},append_child_tree:function(t,e,n){return m(t=g(t,D((n=s(e,n))[r.dict_keys(n)[0]],n),e),n),r.dict_plus(e,n),t},add_rsib_tree:function(t,e,n){return m(t=y(t,D((n=s(e,n))[r.dict_keys(n)[0]],n),e),n),r.dict_plus(e,n),t},add_lsib_tree:function(t,e,n){return m(t=b(t,D((n=s(e,n))[r.dict_keys(n)[0]],n),e),n),r.dict_plus(e,n),t},insert_child_tree:function(t,e,n,i){return m(e=v(t,e,D((i=s(n,i))[r.dict_keys(i)[0]],i),n),i),r.dict_plus(n,i),e},get_root_via_tree:lt,tree2sdfs:function(t){return F(lt(t),t)}}},function(t,e,n){const r=n(6),i=n(1),o=n(13),u=n(3);t.exports={ndfunc:i,ndfuncterm:o,ndcls:r,ndutil:u}},function(t,e){t.exports={rjson:function(t){if(void 0===globalThis.document){let e=globalThis.require("fs").readFileSync(t).toString();return JSON.parse(e)}},wjson:function(t,e){if(void 0===globalThis.document){let n=globalThis.require("fs"),r=JSON.stringify(e);n.writeFileSync(t,r)}},is_int_str:function(t){return parseInt(t).toString()===t}}},function(t,e,n){const r=n(5);t.exports={jsfunc:r}},function(t,e,n){const r=n(2).ndcls,{Tree:i}=n(2).ndcls,o=n(14);function u(t){return t instanceof Array?"arr":o.isPrimitive(t)?null===t?null:typeof t:"dict"}function s(t){return"arr"!==t&&"dict"!==t}function l(t){if(t instanceof Array)return{kl:t.map((t,e)=>e),vl:t};if(o.isPrimitive(t))return{vl:[]};{let e=Object.entries(t);return{kl:e.map(t=>t[0]),vl:e.map(t=>t[1])}}}function f(t){let e=new i;for(e.type=u(t),e.key=null,e.val=t,unhandled=[{obj:t,nd:e}];unhandled.length>0;){next_unhandled=[];for(let t=0;t<unhandled.length;t++){let e=unhandled[t].obj,n=unhandled[t].nd,{kl:r,vl:i}=l(e);for(let t=0;t<i.length;t++){let e=n.$append_child();e.type=u(i[t]),e.key=r[t],e.val=i[t];let o={obj:i[t],nd:e};next_unhandled.push(o)}}unhandled=next_unhandled}return e}function c(t){return t.$ances(including_self=!0).map(t=>t.key).reverse().slice(1)}function a(t){let e=c(t);return JSON.stringify(e)}function h(t){let e=f(t).$sdfs(),n=e.map(t=>a(t)),r=e.map(t=>"dict"===t.type?{}:"arr"===t.type?[]:t.val);return n.map((t,e)=>[t,r[e]])}function _(t){return!((t=t.toString()).indexOf(".")>=0)}function d(t){return t.every(t=>_(t))}function p(t){let e=[];for(let n=0;n<t.length;n++){let r=t[n],i=JSON.parse(r[0]);if(!d(i))throw r[0]+" have dot in it !! ";e.push([i.join("."),r[1]])}return e}function g(t){return t.every(t=>_(t))}function y(t){return p(h(t))}function b(t,e,n){for(let e=0;e<t.length-1;e++)n=n[t[e]];return n[t[t.length-1]]=e,n}function v(t,e=!0){let n=(t=e?JSON.parse(JSON.stringify(t)):t)[0][1];for(let e=1;e<t.length;e++){b(JSON.parse(t[e][0]),t[e][1],n)}return n}function m(t){return t=t.sort((t,e)=>t[0].length-e[0].length)}function $(t){return s(t.type)?t.val:"dict"===t.type?{}:[]}function w(t){return"arr"===u(t)?Object.fromEntries(Object.entries(t)):t}function x(t){let e=t.type;return"dict"===e||"arr"===e||(e="other"),e}function E(t){return t.type}function O(t){let e=t.$sdfs().map(t=>[c(t),$(t)]);e=e.map(t=>{return[t[0],(e=t[1],e instanceof Array?e:o.isPrimitive(e)?null===e?null:typeof e:e)];var e});let n=e[0][1];for(let t=1;t<e.length;t++){b(e[t][0],e[t][1],n)}return n}function A(t){return s(t.type)?t.val:[]}function S(t,e){let n=e.filter(t=>t instanceof Array),r=t.filter(t=>t._children.length>0);return n.map((t,e)=>({vjobj:t,ele:r[e]}))}function j(t){let e=t.$sdfs2mat(),n=[{vjobj:[],ele:e[0][0]}],r=n;for(;n.length>0;){next_unhandled=[];for(let t=0;t<n.length;t++){let r=n[t].ele,i=n[t].vjobj,o=r._children.map(t=>e[t[0]][t[1]]),u=o.map(t=>t._nd).map(t=>A(t));u.forEach(t=>i.push(t));let s=S(o,u);next_unhandled=next_unhandled.concat(s)}n=next_unhandled}return r[0].vjobj}t.exports={set_dict_via_pl:b,set_dflt_dict_via_pl:function(t,e,n){let r=t;for(let t=0;t<e.length-1;t++){let n=e[t];void 0!==r[n]||(r[n]={}),r=r[n]}return r[e[e.length-1]]=n,t},get_val_via_pl:function(t,e){for(let n=0;n<t.length;n++)e=e[t[n]];return e},get_jobj_type:u,is_raw_type_via_str:s,get_jobj_child_klvl:l,jobj2tree:f,get_bracket_pl:function(t){let e=t.$ances(including_self=!0).map(t=>t.key).reverse().slice(1);return e=e.map(t=>"["+JSON.stringify(t)+"]"),e.join("")},get_pl:c,get_flat_key:a,get_container_or_val_via_nd:$,is_valid_dot_key:_,is_valid_nondot_key:function(t){return!((t=t.toString()).indexOf("[")>=0||t.indexOf("]")>=0)},is_valid_pl_for_dot:d,is_valid_pl_for_nondot:g,entries_to_dot_entries:p,dot_entries_to_entries:function(t){let e=[];for(let n=0;n<t.length;n++){let r=t[n],i=JSON.parse(r[0]);if(i=i.split("."),!g(i))throw r[0]+" have dot in it !! ";e.push([i.join("."),r[1]])}return e},flatten_to_dict:function(t){let e=h(t),n={};for(let t=0;t<e.length;t++){let r=e[t][0],i=e[t][1];n[r]=i}return n},flatten_to_dot_dict:function(t){let e=y(t),n={};for(let t=0;t<e.length;t++){let r=e[t][0],i=e[t][1];n[r]=i}return n},flatten_to_entries:h,flatten_to_dot_entries:y,deflatten_from_entries:v,deflatten_from_dot_entries:function(t,e=!0){let n=(t=e?JSON.parse(JSON.stringify(t)):t)[0][1];for(let e=1;e<t.length;e++){b(t[e][0].split("."),t[e][1],n)}return n},deflatten_from_dict:function(t,e=!1,n=!0){t=n?JSON.parse(JSON.stringify(t)):t;let r=[];for(let e in t){let n=JSON.parse(e),i=t[e];r.push([n,i])}e&&(r=m(r));let i=r[0][1];for(let t=1;t<r.length;t++){b(r[t][0],r[t][1],i)}return i},deflatten_from_dot_dict:function(t,e=!1,n=!0){t=n?JSON.parse(JSON.stringify(t)):t;let r=[];for(let e in t){let n=e.split("."),i=t[e];r.push([n,i])}e&&(r=m(r));let i=r[0][1];for(let t=1;t<r.length;t++){b(r[t][0],r[t][1],i)}return i},eq:function(t,e){try{assert.deepStrictEqual(t,e)}catch(t){return!1}return!0},struct_eq:function(t,e,n){let i,o,u=void 0===(n=void 0===n?{}:n).ignore_order||n.ignore_order,s=void 0!==n.compare_value_type&&n.compare_value_type,l=f(t),c=f(e);return i=u?r.struct_eq_ignore_order:r.struct_eq_keep_order,o=s?E:x,console.log(i,o),i(l,c,o)},tree2jobj:function(t){let e=t.$sdfs().map(t=>[c(t),$(t)]),n=e[0][1];for(let t=1;t<e.length;t++){b(e[t][0],e[t][1],n)}return n},tree2kjobj:O,tree2vjobj:j,unzip:function(t){let e=f(t);return{schema:O(e),vmat:j(e)}},zip:function(t){let e=t.schema,n=t.vmat,r=h(e),i=h(n);return v(r.map((t,e)=>"string"==typeof t[1]?[t[0],i[e][1]]:t))},arr_to_ltdict:w,convert_arr_to_dict:function(t){let e=f(t).$sdfs().map(t=>[c(t),$(t)]),n=e[0][1];for(let t=1;t<e.length;t++){let r=e[t][0],i=e[t][1];i=w(i),b(r,i,n)}return n}}},function(t,e,n){(function(e){const r=n(3),i=n(0),o=n(1),u=n(12).EventTarget,s=["_fstch","_lsib","_rsib","_parent","_tree"];function l(t){return void 0!==t._tree}function f(t){return t._tree===t}function c(t){return f(t)||!l(t)}function a(t){let e=t._fstch,n=e;for(;null!==e;)n=e,e=e._rsib;return n}function h(t,e){let n=0,r=e._fstch;for(;;){if(n===t)return r;if(null===r)return r;r=r._rsib,n+=1}}function _(t,...e){let n=[],r=0,i=t._fstch;for(;;){if(e.includes(r))n.push(i);else if(null===i)return n;i=i._rsib,r+=1}}function d(t){let e=[],n=0,r=t._fstch;for(;;){if(null===r)return e;e.push(r),r=r._rsib,n+=1}}function p(t,e=!1){let n=t._rsib,r=t;for(;null!==n;)r=n,n=n._rsib;return e||r!==t?r:null}function g(t,e=!1){let n=$(t);if(null===n)return e?t:null;{let r=n._fstch;return e||r!==t?r:null}}function y(t){let e=[],n=g(t,!0);for(;null!==n;){if(n===t)return e;e.push(n),n=n._rsib}}function b(t){let e=[],n=t._rsib;for(;null!==n;)e.push(n),n=n._rsib;return e}function v(t,e=!1){let n=y(t),r=b(t),i=[t];return sibs=e?n.concat(i,r):n.concat(r),sibs}function m(t){return y(t).length}function $(t){return p(t,!0)._parent}function w(t,e=!1){let n=[],r=t;for(e&&n.push(r),r=r.$parent();null!==r;)n.push(r),r=r.$parent();return n}function x(t,e=!1){let n=j(t),r=T(t),i=r.indexOf(n);return e?r.slice(0,i+1):r.slice(1,i+1)}function E(t,e){if(!c(e))return console.log("only root or uninited could be prepend"),e;let n=t.$is_leaf();if(e._tree=t._tree,e._lsib=null,n)e._rsib=null,e._parent=t;else{let n=t._fstch;n._lsib=void 0,e._rsib=n,e._parent=void 0}return t._fstch=e,e}function O(t,e){if(!c(e))return console.log("only root or uninited could be append"),e;let n=t.$is_leaf();if(e._tree=t._tree,e._rsib=null,n)t._fstch=e,e._lsib=null;else{let n=t.$lstch();n._parent=void 0,n._rsib=e,e._lsib=void 0}return e._parent=t,e}function A(t,e){if(!c(e))return console.log("only root or uninited could be add"),e;if(t.$is_root())return console.log("cant addrsib to root"),t;let n=t.$is_lstch();return e._tree=t._tree,n?(e._parent=t._parent,t._parent=void 0,e._rsib=null):(e._rsib=t._rsib,e._parent=void 0),t._rsib=e,e._lsib=void 0,e}function S(t,e,n){let r=d(e),i=r.length;if(0===i)n=E(e,n);else{if(t<=i&&t>=0)if(0===t)n=E(e,n);else if(t===i)n=O(e,n);else{n=A(r[t-1],n)}else console.log("not in range!!")}return n}function j(t){let e=t,n=t.$lstch();for(;null!==n;)e=n,n=n.$lstch();return e}function T(t){let e=t.$depth();if(null===t)return[];{let n=[t];for(t=t.$sdfs_next();null!==t&&t.$depth()>e;)n.push(t),t=t.$sdfs_next();return n}}function P(t){let e=t.$visited;if(t.$is_leaf()){if(e){let e=t.$rsib();return null===e?t.$parent():e}return t.$visited=!0,t}if(e){let e=t.$rsib();return null===e?t.$parent():e}return t.$visited=!0,t.$fstch()}function R(t,e){return e.$visited&&t===e}function B(t){!function(t){t.$sdfs().forEach(t=>{delete t.$visited})}(t);let e=[],n=new Set,r=t;for(;!R(r,t);)n.has(t)?t.$close_at=e.length:(t.$open_at=e.length,n.add(t)),e.push(t),t=P(t);return r.$close_at=e.length,e.push(r),e.forEach(t=>{delete t.$visited}),e}function U(t){return t._lsib=null,t._rsib=null,t._parent=null,t}function k(t){let e=t.$sdfs();return e.forEach(t=>{t._tree=e[0]}),e}function I(t){if(t.$is_root())return t;if(t.$is_lonely()){!function(t){t._fstch=null}(t.$parent());k(t);return U(t),t}if(t.$is_fstch()){t.$rsib()._lsib=null,t.$parent()._fstch=t._rsib;k(t);return U(t),t}if(t.$is_lstch()){let e=t.$lsib();e._rsib=t._rsib,e._parent=t._parent;k(t);return U(t),t}t.$lsib()._rsib=t._rsib;k(t);return U(t),t}function N(t){let e={};return e._nd=t,e._children=[],e}function M(t){let e=[],n=[N(t[0])];for(n[0]._pbreadth=null;n.length>0;){let t=[];for(let r=0;r<n.length;r++){n[r]._breadth=r,n[r]._depth=e.length;let i=n[r]._nd.$children();i=i.map(t=>N(t)),i.forEach((i,o)=>{i._pbreadth=n[r]._breadth,n[r]._children.push([e.length+1,t.length+o])}),t=t.concat(i)}let r=n;e.push(r),n=t}return e}function Y(t,e="_children"){let n=t._nd,r={};r[e]=[],r.$guid=n.$guid;for(let t in n){i.is_cu_property(t)&&(r[t]=n[t])}return r}function D(t,e="_children"){let n=new G;void 0!==t.$guid&&(n.$guid=t.$guid);for(let r in t){i.is_cu_property(r)&&e!==r&&(n[r]=t[r])}return n}class L extends u{constructor(){super(),this._fstch=null,this._lsib=void 0,this._rsib=void 0,this._parent=void 0,this._tree=void 0,this.$guid=i.gen_guid()}$is_inited(){return l(this)}$is_root(){return f(this)}$is_fstch(){return null===this._lsib}$is_lstch(){return null===this._rsib}$is_leaf(){return null===this._fstch}$is_lonely(){return 1===this.$sibs(!0).length}$fstch(){return this._fstch}$lstch(){return a(this)}$which_child(t){return h(t,this)}$some_children(...t){return _(this,...t)}$children(){return d(this)}$children_count(){return function(t){let e=0,n=t._fstch;for(;;){if(null===n)return e;n=n._rsib,e+=1}}(this)}$rsib(){return this._rsib}$lsib(){return function(t){let e=g(t,!1);if(null===e)return null;{let n=e;for(;;){if(n._rsib===t)return n;n=n._rsib}}}(this)}$fstsib(t=!1){return g(this,t)}$lstsib(t=!1){return p(this,t)}$psibs(){return y(this)}$fsibs(){return b(this)}$which_sib(t){return function(t,e){let n=g(e,!0),r=0;for(;;){if(null===n)return null;if(r==t)return n;n=n._rsib,r+=1}}(t,this)}$some_sibs(...t){return function(t,...e){return v(t,!0).filter((t,n)=>e.includes(n))}(this,...t)}$sibseq(){return m(this)}$sibs(t=!1){return v(this,t)}$sibs_count(t=!1){return function(t,e=!1){return t.$sibs(e).length}(this,t)}$parent(){return $(this)}$root(){return function(t){let e=t,n=t;for(;null!==e;)n=e,e=e.$parent();return n}(this)}$ances(t=!1){return w(this,t)}$which_ance(t){return function(t,e){let n=0,r=e;for(;null!==r;){if(n===t)return r;r=r.$parent(),n+=1}return null}(t,this)}$some_ances(...t){return function(t,...e){return w(t,!0).filter((t,n)=>e.includes(n))}(this,...t)}$ances_count(t=!1){return function(t,e=!1){return w(t,e).length}(this,t)}$prepend_child(t){return E(this,t=void 0===t?new L:t)}$insert_child(t,e){return S(t,this,e=void 0===e?new L:e)}$append_child(t){return O(this,t=void 0===t?new L:t)}$clone(){if(f(this)){return q(V(this))}{let t=m(this),e=$(this);I(this);let n=q(V(this));return S(t,e,this),n}}$append_children(t,e){let n=[];for(let r=0;r<t;r++){let t=void 0===e?new L:e.$clone();t=O(this,t),n.push(t)}return n}$add_rsib(t){return A(this,t=void 0===t?new L:t)}$add_lsib(t){return function(t,e){if(!c(e))return console.log("only root or uninited could be add"),e;if(t.$is_root())return console.log("cant addlsib to root"),t;let n=t.$is_fstch();if(e._tree=t._tree,n){let n=t.$parent();t._lsib=void 0,e._lsib=null,n._fstch=e}else{t.$lsib()._rsib=e,e._lsib=void 0}return e._rsib=t,e._parent=void 0,e}(this,t=void 0===t?new L:t)}$rsib_of_fst_ance_having_rsib(){return function(t){let e=t.$parent();for(;null!==e;){let t=e.$rsib();if(null!==t)return t;e=e.$parent()}return null}(this)}$sdfs_next(){return function(t){let e=t.$fstch();if(null!==e)return e;{let e=t.$rsib();return null!==e?e:t.$rsib_of_fst_ance_having_rsib()}}(this)}$drmost_des(){return j(this)}$sdfs_prev(){return function(t){if(t.$is_root())return null;if(t.$is_leaf()){let e=t.$lsib();if(null!==e)return e;return t.$parent()}{let e=t.$lsib();if(null!==e){return e.$is_leaf()?e:e.$drmost_des()}return t.$parent()}}(this)}$sdfs(){return T(this)}$dlmost_des(){return function(t){let e=t,n=t.$fstch();for(;null!==n;)e=n,n=n.$fstch();return e}(this)}$edfs_next(){return function(t){let e=t.$rsib();if(null===e){return t.$parent()}return e.$dlmost_des()}(this)}$lsib_of_fst_ance_having_lsib(){return function(t){let e=t.$parent();for(;null!==e;){let t=e.$lsib();if(null!==t)return t;e=e.$parent()}return null}(this)}$edfs_prev(){return function(t){if(t.$is_leaf()){let e=t.$lsib();return null===e?t.$lsib_of_fst_ance_having_lsib():e}return t.$lstch()}(this)}$edfs(){return function(t){let e=[],n=t.$dlmost_des();for(;null!==n&&(e.push(n),n!==t);)n=n.$edfs_next();return e}(this)}$offset(){return function(t){let e,n=t.$root().$edfs();if(t.$is_leaf())e=n.indexOf(t);else{let r=t.$dlmost_des();e=n.indexOf(r)}return n=n.slice(0,e+1),offset=n.filter(t=>t.$is_leaf()).length-1,offset}(this)}$sedfs_next(){return P(this)}$sedfs_prev(t){return function(t,e){if(e.$is_leaf()){if(t)return e;{let t=e.$lsib();return null===t?e.$parent():t}}if(t)return e.$lstch();{let t=e.$lsib();return null===t?e.$parent():t}}(this)}$sedfs(){return B(this)}$deses(t=!1){return x(this,t)}$lst_lyr_deses(){return function(t){let e=t.$deses(!1),n=e.map(t=>t.$depth()),r=Math.max(...n);return e=e.filter(t=>t.$depth()===r),e}(this)}$which_lyr_deses(t){return function(t,e){let n=e.$depth(),r=e.$deses(!1);return r.map(t=>t.$depth()),r=r.filter(e=>e.$depth()===n+t),r}(t,this)}$some_lyrs_deses(...t){return function(t,...e){let n=t.$depth(),r=e.map(t=>t+n),i=t.$deses(!1);return i.map(t=>t.$depth()),i=i.filter(t=>r.includes(t.$depth())),i}(this,...t)}$count(t=!0){return x(this,t).length}$depth(t=!1){return w(this,t).length}$height(){let t=this.$depth(),e=this.$sdfs().map(t=>t.$depth());return Math.max(...e)-t+1}$pbreadth(){return function(t){let e=t.$parent();return null===e?null:e.$breadth()}(this)}$breadth(){return(t=this).$lyr().indexOf(t);var t}$width(){return function(t){let e=t.$sdfs();return e=e.filter(t=>t.$is_leaf()),e.length}(this)}$lyr(){return function(t){let e=t.$root().$sdfs(),n=t.$depth();return e.filter(t=>t.$depth()===n)}(this)}$lcin(){return function(t){let e=t.$luncle();return t.$is_fstch()?null===e?null:e.$lstch():null}(this)}$rcin(){return function(t){let e=t.$runcle();return t.$is_lstch()?null===e?null:e.$fstch():null}(this)}$luncle(){return function(t){let e=t.$parent();return null===e?null:e.$lsib()}(this)}$runcle(){return function(t){let e=t.$parent();return null===e?null:e.$rsib()}(this)}$sdfs_repr(){let t=T(this.$root()),e=T(this);e.map(t=>t.$depth()).map(t=>"    ".repeat(t)).forEach((n,r)=>{console.log(n+"["+t.indexOf(e[r])+"] : "+e[r].$guid)})}$sedfs_repr(){C(this.$root()),B(this).forEach((t,e)=>{let n=t.$depth(),r="    ".repeat(n);e===t.$open_at&&console.log(r+"<"+t._id+" : "+t.$guid+">"),e===t.$close_at&&console.log(r+"</"+t._id+" : "+t.$guid+">")})}$disconn(){return I(this)}$rm_fstch(){return I(this._fstch)}$rm_lstch(){return I(a(this))}$rm_which(t){return I(h(t,this))}$rm_some_children(...t){return _(this,...t).map(t=>I(t))}$rm_all_children(){return d(this).map(t=>I(t))}$dump(){if(this.$is_root())return V(this);console.log("only root !!!")}$dump2file(t){if(this.$is_root()){let e=V(this);r.wjson(t,e)}else console.log("only root !!!")}$sdfs2mat(){return M(T(this))}$nest_dict(t="_children"){return function(t,e="_children"){let n=t[0][0],r=Y(n,e),i=[{d:r,ele:n}];for(;i.length>0;){let n=[];for(let r=0;r<i.length;r++){let o=i[r],u=o.d,s=(o.ele,o.ele._children.map(e=>t[e[0]][e[1]]));for(let t=0;t<s.length;t++){let r=s[t],i=Y(r,e);u[e].push(i);let o={d:i,ele:r};n.push(o)}}i=n}return r}(M(T(this)),t)}}function C(t){let e=T(t);return e.forEach((t,e)=>{t._id=e}),e}function z(t,e){for(;e._id!==t;)e=e._parent;return e}function J(t,e){let n=H(e);for(let r of n)t[r]=e[r];return t}function q(t){let e=i.dict_keys(t)[0],n=o.get_root(t[e],t),r=function(t){let e=new G;return e._id=t._id,e.$guid=t._guid,e}(n);r=J(r,n);let u,s=r,l=n,f=o.get_sdfs_next(l,t);for(;null!==f;)if(l._fstch===f._id)u=s.$prepend_child(),u._id=f._id,u.$guid=f._guid,u=J(u,f),s=u,l=f,f=o.get_sdfs_next(l,t);else if(l._rsib===f._id)u=s.$add_rsib(),u._id=f._id,u.$guid=f._guid,u=J(u,f),s=u,l=f,f=o.get_sdfs_next(l,t);else if(null!==f._parent&&void 0!==f._parent){s=z(f._parent,s),u=s.$append_child(),u._id=f._id,u.$guid=f._guid,u=J(u,f),s=u,l=f,f=o.get_sdfs_next(l,t)}else if(void 0===f._parent){s=z(o.get_parent(f,t)._id,s),u=s.$append_child(),u._id=f._id,u.$guid=f._guid,u=J(u,f),s=u,l=f,f=o.get_sdfs_next(l,t)}else console.log("Impossible",s,l,f);return r}function F(t,e){return null===t[e]?null:void 0===t[e]?void 0:t[e]._id}function H(t){return i.dict_keys(t).filter(t=>!s.includes(t))}function V(t){let e=C(t),n=t._id,r={};return e.forEach((t,e)=>{let i={};i._tree=n,i._fstch=F(t,"_fstch"),i._lsib=F(t,"_lsib"),i._rsib=F(t,"_rsib"),i._parent=F(t,"_parent"),i._id=t._id,i._guid=t.$guid,i=function(t,e){let n=H(t);for(let r of n)e[r]=t[r];return e}(t,i),r[t._id]=i}),r}class G extends L{constructor(){super(),this._fstch=null,this._lsib=null,this._rsib=null,this._parent=null,this._tree=this}$is_parent_of(t){return t.$parent()===this}$is_root_of(t){return t.$root()===this}$is_descendant_of(t){return t.$deses(!1).indexOf(this)>=0}$is_inclusive_descendant_of(t){return t.$deses(!0).indexOf(this)>=0}$is_ancestor_of(t){return t.$ances(!1).indexOf(this)>=0}$is_inclusive_ancestor_of(t){return t.$ances(!0).indexOf(this)>=0}$is_sibling_of(t){return t.$sibs(!1).indexOf(this)>=0}$is_inclusive_siblings_of(t){return t.$sibs(!0).indexOf(this)>=0}$is_preceding_of(t){let e=t.$sdfs(),n=e.indexOf(t),r=e.indexof(this);return r>=0&&r<n}$is_following_of(t){let e=t.$sdfs(),n=e.indexOf(t);return e.indexof(this)>n}$is_first_child_of(t){return this===t.$fstch()}$is_child_of(t){return t.$children().indexOf(this)>=0}$is_last_child_of(t){return this===t.$lstch()}$is_previous_sibling_of(t){return this===t.$lsib()}$is_next_sibling_of(t){return this===t.$rsib()}$index(){return this.$sibseq()}$sdfs_index(){return this.$sdfs().indexOf(this)}}function Z(t){if("string"==typeof t){return q(r.rjson(t))}if("object"==typeof t){return q(t)}return new G}function X(t,n,...r){let i=n(t,...r);return i=new e.from(i).toString("base64"),i}function K(t){let e=t.$ances(!0).map(t=>t.$children().length);return e=e.join("-"),e}function Q(t){return t.$pbreadth()+"-"+t.$breadth()+"-"+t.$depth()}function W(t,e,...n){let r=K(t);return e&&(out=X(t,e,...n),r=r+"@"+out),r}function tt(t,e,...n){let r=Q(t);return e&&(out=X(t,e,...n),r=r+"@"+out),r}function et(t,e,n,r,i,...o){let u=n.$sdfs(),s=r.$sdfs();if(u.length!==s.length)return!1;{let n=u.map(t=>e(t,i,...o)),r=s.map(t=>e(t,i,...o));t&&(n.sort(),r.sort());for(let t=0;t<n.length;t++){if(n[t]!==r[t])return!1}}return!0}t.exports={Node:L,Tree:G,Root:G,load:Z,load_from_nest_dict:function(t,e="_children"){return function(t,e="_children"){let n=D(t,e),r=[{d:t,nd:n}];for(;r.length>0;){let t=[];for(let n=0;n<r.length;n++){let i=r[n].d,o=r[n].nd,u=void 0===i[e]?[]:i[e];for(let n=0;n<u.length;n++){let r=u[n],i=D(r,e);o.$append_child(i);let s={d:r,nd:i};t.push(s)}}r=t}return n}(t,e)},clone:function(t){return t.$dump(),Z(ndict)},get_cu_sign:X,get_internal_sign_ignore_order:K,get_internal_sign_keep_order:Q,get_sign_keep_order:tt,struct_eq:et,struct_eq_keep_order:function(t,e,n,...r){return et(!1,tt,t,e,n,...r)},get_sign_ignore_order:W,struct_eq_ignore_order:function(t,e,n,...r){return et(!0,W,t,e,n,...r)}}}).call(this,n(7).Buffer)},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(9),i=n(10),o=n(11);function u(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(u()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=l.prototype:(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return a(this,t)}return f(this,t,e,n)}function f(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);l.TYPED_ARRAY_SUPPORT?(t=e).__proto__=l.prototype:t=h(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n),i=(t=s(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(l.isBuffer(e)){var n=0|_(e.length);return 0===(t=s(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?s(t,0):h(t,e);if("Buffer"===e.type&&o(e.data))return h(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function a(t,e){if(c(e),t=s(t,e<0?0:0|_(e)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e){var n=e.length<0?0:0|_(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function _(t){if(t>=u())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u().toString(16)+" bytes");return 0|t}function d(t,e){if(l.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return L(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return C(t).length;default:if(r)return L(t).length;e=(""+e).toLowerCase(),r=!0}}function p(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,n);case"utf8":case"utf-8":return A(this,e,n);case"ascii":return S(this,e,n);case"latin1":case"binary":return j(this,e,n);case"base64":return O(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function g(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function y(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=l.from(e,r)),l.isBuffer(e))return 0===e.length?-1:b(t,e,n,r,i);if("number"==typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):b(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,n,r,i){var o,u=1,s=t.length,l=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;u=2,s/=2,l/=2,n/=2}function f(t,e){return 1===u?t[e]:t.readUInt16BE(e*u)}if(i){var c=-1;for(o=n;o<s;o++)if(f(t,o)===f(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*u}else-1!==c&&(o-=o-c),c=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var a=!0,h=0;h<l;h++)if(f(t,o+h)!==f(e,h)){a=!1;break}if(a)return o}return-1}function v(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var u=0;u<r;++u){var s=parseInt(e.substr(2*u,2),16);if(isNaN(s))return u;t[n+u]=s}return u}function m(t,e,n,r){return z(L(e,t.length-n),t,n,r)}function $(t,e,n,r){return z(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function w(t,e,n,r){return $(t,e,n,r)}function x(t,e,n,r){return z(C(e),t,n,r)}function E(t,e,n,r){return z(function(t,e){for(var n,r,i,o=[],u=0;u<t.length&&!((e-=2)<0);++u)n=t.charCodeAt(u),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function O(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function A(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,u,s,l,f=t[i],c=null,a=f>239?4:f>223?3:f>191?2:1;if(i+a<=n)switch(a){case 1:f<128&&(c=f);break;case 2:128==(192&(o=t[i+1]))&&(l=(31&f)<<6|63&o)>127&&(c=l);break;case 3:o=t[i+1],u=t[i+2],128==(192&o)&&128==(192&u)&&(l=(15&f)<<12|(63&o)<<6|63&u)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=t[i+1],u=t[i+2],s=t[i+3],128==(192&o)&&128==(192&u)&&128==(192&s)&&(l=(15&f)<<18|(63&o)<<12|(63&u)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,a=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=a}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}e.Buffer=l,e.SlowBuffer=function(t){+t!=t&&(t=0);return l.alloc(+t)},e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=u(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,n){return f(null,t,e,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,n){return function(t,e,n,r){return c(e),e<=0?s(t,e):void 0!==n?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},l.allocUnsafe=function(t){return a(null,t)},l.allocUnsafeSlow=function(t){return a(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=l.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var u=t[n];if(!l.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(r,i),i+=u.length}return r},l.byteLength=d,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?A(this,0,t):p.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,n,r,i){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),u=(n>>>=0)-(e>>>=0),s=Math.min(o,u),f=this.slice(r,i),c=t.slice(e,n),a=0;a<s;++a)if(f[a]!==c[a]){o=f[a],u=c[a];break}return o<u?-1:u<o?1:0},l.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},l.prototype.indexOf=function(t,e,n){return y(this,t,e,n,!0)},l.prototype.lastIndexOf=function(t,e,n){return y(this,t,e,n,!1)},l.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return v(this,t,e,n);case"utf8":case"utf-8":return m(this,t,e,n);case"ascii":return $(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return x(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function S(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function j(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function T(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=D(t[o]);return i}function P(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function R(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function B(t,e,n,r,i,o){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function U(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function k(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function I(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(t,e,n,r,o){return o||I(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function M(t,e,n,r,o){return o||I(t,0,n,8),i.write(t,e,n,r,52,8),n+8}l.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=l.prototype;else{var i=e-t;n=new l(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},l.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},l.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},l.prototype.readUInt8=function(t,e){return e||R(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||R(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||R(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},l.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},l.prototype.readInt8=function(t,e){return e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||R(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(t,e){e||R(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(t,e){return e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||R(t,4,this.length),i.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||R(t,4,this.length),i.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||R(t,8,this.length),i.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||R(t,8,this.length),i.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||B(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},l.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||B(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},l.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):U(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):U(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):k(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):k(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);B(this,t,e,n,i-1,-i)}var o=0,u=1,s=0;for(this[e]=255&t;++o<n&&(u*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/u>>0)-s&255;return e+n},l.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);B(this,t,e,n,i-1,-i)}var o=n-1,u=1,s=0;for(this[e+o]=255&t;--o>=0&&(u*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/u>>0)-s&255;return e+n},l.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):U(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):U(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):k(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):k(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,n){return N(this,t,e,!0,n)},l.prototype.writeFloatBE=function(t,e,n){return N(this,t,e,!1,n)},l.prototype.writeDoubleLE=function(t,e,n){return M(this,t,e,!0,n)},l.prototype.writeDoubleBE=function(t,e,n){return M(this,t,e,!1,n)},l.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},l.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var u=l.isBuffer(t)?t:L(new l(t,r).toString()),s=u.length;for(o=0;o<n-e;++o)this[o+e]=u[o%s]}return this};var Y=/[^+\/0-9A-Za-z-_]/g;function D(t){return t<16?"0"+t.toString(16):t.toString(16)}function L(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],u=0;u<r;++u){if((n=t.charCodeAt(u))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(u+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function C(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(Y,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function z(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(8))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";e.byteLength=function(t){var e=f(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=f(t),u=r[0],s=r[1],l=new o(function(t,e,n){return 3*(e+n)/4-n}(0,u,s)),c=0,a=s>0?u-4:u;for(n=0;n<a;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],l[c++]=e>>16&255,l[c++]=e>>8&255,l[c++]=255&e;2===s&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,l[c++]=255&e);1===s&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,l[c++]=e>>8&255,l[c++]=255&e);return l},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],u=0,s=n-i;u<s;u+=16383)o.push(c(t,u,u+16383>s?s:u+16383));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=u.length;s<l;++s)r[s]=u[s],i[u.charCodeAt(s)]=s;function f(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,n){for(var i,o,u=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),u.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return u.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,u,s=8*i-r-1,l=(1<<s)-1,f=l>>1,c=-7,a=n?i-1:0,h=n?-1:1,_=t[e+a];for(a+=h,o=_&(1<<-c)-1,_>>=-c,c+=s;c>0;o=256*o+t[e+a],a+=h,c-=8);for(u=o&(1<<-c)-1,o>>=-c,c+=r;c>0;u=256*u+t[e+a],a+=h,c-=8);if(0===o)o=1-f;else{if(o===l)return u?NaN:1/0*(_?-1:1);u+=Math.pow(2,r),o-=f}return(_?-1:1)*u*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var u,s,l,f=8*o-i-1,c=(1<<f)-1,a=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,_=r?0:o-1,d=r?1:-1,p=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,u=c):(u=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-u))<1&&(u--,l*=2),(e+=u+a>=1?h/l:h*Math.pow(2,1-a))*l>=2&&(u++,l/=2),u+a>=c?(s=0,u=c):u+a>=1?(s=(e*l-1)*Math.pow(2,i),u+=a):(s=e*Math.pow(2,a-1)*Math.pow(2,i),u=0));i>=8;t[n+_]=255&s,_+=d,s/=256,i-=8);for(u=u<<i|s,f+=i;f>0;t[n+_]=255&u,_+=d,u/=256,f-=8);t[n+_-d]|=128*p}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){t.exports={EventTarget:class{constructor(){}addEventListener(t,e,n={}){}removeEventListener(t,e,n={}){}dispatchEvent(t){}}}},function(t,e,n){const r=n(1),i=n(0),o={t:" ",v:"   ",l:" ",ws:"    "},u={t:" ",v:"   ",l:" ",ws:"    "};function s(t){let e;return e="t"===t||"v"===t?"v":"ws",e}function l(t,e){return(t=t.map(t=>e[t])).join("")}function f(t){for(let e in t)delete t[e]._ui}function c(t,e){if(t._ui={},r.is_root(t))t._ui.conns=[],t._ui.display=!0;else{let n=r.get_parent(t,e)._ui.conns.map(t=>s(t));r.is_lstch(t)?n.push("l"):n.push("t"),t._ui.conns=n,t._ui.display=!0}return t}function a(t,e,n){let i=r.get_depth(t,e),u=r.get_deses(t,e,!0);u=u.map(t=>c(t,e));let s=u.map(t=>t._ui.conns);s=s.map(t=>t.slice(i)),s=s.map(t=>l(t,o));let f=s.map((t,e)=>t+"["+u[e]._id+"] : "+u[e]._guid);return f=f.filter((t,e)=>!0===u[e]._ui.display),f}function h(){}function _(){}function d(t,e){if(t._ui={},r.is_root(t))t._ui.conns=[];else{let n=r.get_parent(t,e)._ui.conns.map(t=>s(t));r.is_fstch(t)?n.push("l"):n.push("t"),t._ui.conns=n}return t}function p(t,e,n){let i=r.get_depth(t,e),o=r.get_edfs(t,e);o.reverse(),o=o.map(t=>d(t,e)),o.reverse();let s=r.get_deses(t,e,!0).map(t=>t._id);o=o.filter(t=>s.includes(t._id));let f=o.map(t=>t._ui.conns);return f=f.map(t=>t.slice(i,t.length)),f=f.map(t=>l(t,u)),f.map((t,e)=>t+o[e]._id)}const g={indent:"    ",stag_prefix:"<",stag_suffix:">",etag_prefix:"</",etag_suffix:">"};function y(t,e,n){return e+t+n}t.exports={dflt_calc_conn_map_func:s,conns2repr:l,clear_ui:f,dflt_sdfs_show_connd:o,dflt_sdfs_calc_conns:c,get_sdfs_repr_arr:a,sdfs_show_all:function(t,e,n=h){a(r.get_root(t,e),e);let i=a(t,e).join("\n");console.log(i),f(e)},sdfs_show_root_tree:function(t,e=h){let n=i.dict_keys(t)[0],o=a(r.get_root(t[n],t),t).join("\n");console.log(o),f(t)},sdfs_show_from:function(t,e,n,i=h){a(r.get_root(t,e),e);let o=a(t,e);o=o.slice(n);let u=o.join("\n");console.log(u),f(e)},sdfs_show_to:function(t,e,n,i=h){a(r.get_root(t,e),e);let o=a(t,e);o=o.slice(0,n);let u=o.join("\n");console.log(u),f(e)},sdfs_show_from_to:function(t,e,n,i,o=h){a(r.get_root(t,e),e);let u=a(t,e);u=u.slice(n,i);let s=u.join("\n");console.log(s),f(e)},sdfs_expand:function(t,e,n=h){return r.get_deses(t,e,!1).forEach(t=>{t._ui.display=!0}),e},sdfs_foldup:function(t,e,n=h){return r.get_deses(t,e,!1).forEach(t=>{t._ui.display=!1}),e},dflt_edfs_show_connd:u,dflt_edfs_calc_conns:d,get_edfs_repr_arr:p,edfs_show_all:function(t,e,n=_){p(r.get_root(t,e),e);let i=p(t,e).join("\n");console.log(i),f(e)},edfs_show_root_tree:function(t,e=_){let n=i.dict_keys(t)[0],o=p(r.get_root(t[n],t),t).join("\n");console.log(o),f(t)},edfs_show_from:function(t,e,n,i=_){r.get_root(t,e),p(t,e);let o=p(t,e);o=o.slice(0,o.length-n);let u=o.join("\n");console.log(u),f(e)},edfs_show_to:function(t,e,n,i=_){r.get_root(t,e),p(t,e);let o=p(t,e);o=o.slice(o.length-n,o.length);let u=o.join("\n");console.log(u),f(e)},edfs_show_from_to:function(t,e,n,i,o=_){r.get_root(t,e),p(t,e);let u=p(t,e);u=u.slice(u.length-i,u.length-n);let s=u.join("\n");console.log(s),f(e)},dflt_sedfs_show_connd:g,gen_tag:y,sedfs_show_all:function(t,e,n=g){let i=r.get_sedfs(t,e,!0),o=i.map(t=>r.get_depth(t,e)),u=r.get_depth(t,e),s=o.map(t=>n.indent.repeat(t-u)),l=i.map(t=>!1===t._$visited?y(t._id,n.stag_prefix,n.stag_suffix):y(t._id,n.etag_prefix,n.etag_suffix)).map((t,e)=>s[e]+t).join("\n");console.log(l)}}},function(t,e,n){(function(t){var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},i=/%[sdj%]/g;e.format=function(t){if(!y(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,u=String(t).replace(i,(function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}})),l=r[n];n<o;l=r[++n])p(l)||!m(l)?u+=" "+l:u+=" "+s(l);return u},e.deprecate=function(n,r){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,u={};function s(t,n){var r={seen:[],stylize:f};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(n)?r.showHidden=n:n&&e._extend(r,n),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),c(r,t,r.depth)}function l(t,e){var n=s.styles[e];return n?"["+s.colors[n][0]+"m"+t+"["+s.colors[n][1]+"m":t}function f(t,e){return t}function c(t,n,r){if(t.customInspect&&n&&x(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return y(i)||(i=c(t,i,r)),i}var o=function(t,e){if(b(e))return t.stylize("undefined","undefined");if(y(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(g(e))return t.stylize(""+e,"number");if(d(e))return t.stylize(""+e,"boolean");if(p(e))return t.stylize("null","null")}(t,n);if(o)return o;var u=Object.keys(n),s=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(u);if(t.showHidden&&(u=Object.getOwnPropertyNames(n)),w(n)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return a(n);if(0===u.length){if(x(n)){var l=n.name?": "+n.name:"";return t.stylize("[Function"+l+"]","special")}if(v(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if($(n))return t.stylize(Date.prototype.toString.call(n),"date");if(w(n))return a(n)}var f,m="",E=!1,O=["{","}"];(_(n)&&(E=!0,O=["[","]"]),x(n))&&(m=" [Function"+(n.name?": "+n.name:"")+"]");return v(n)&&(m=" "+RegExp.prototype.toString.call(n)),$(n)&&(m=" "+Date.prototype.toUTCString.call(n)),w(n)&&(m=" "+a(n)),0!==u.length||E&&0!=n.length?r<0?v(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),f=E?function(t,e,n,r,i){for(var o=[],u=0,s=e.length;u<s;++u)j(e,String(u))?o.push(h(t,e,n,r,String(u),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(h(t,e,n,r,i,!0))})),o}(t,n,r,s,u):u.map((function(e){return h(t,n,r,s,e,E)})),t.seen.pop(),function(t,e,n){if(t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(f,m,O)):O[0]+m+O[1]}function a(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,r,i,o){var u,s,l;if((l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?s=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(s=t.stylize("[Setter]","special")),j(r,i)||(u="["+i+"]"),s||(t.seen.indexOf(l.value)<0?(s=p(n)?c(t,l.value,null):c(t,l.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+s.split("\n").map((function(t){return"   "+t})).join("\n")):s=t.stylize("[Circular]","special")),b(u)){if(o&&i.match(/^\d+$/))return s;(u=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=t.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=t.stylize(u,"string"))}return u+": "+s}function _(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function p(t){return null===t}function g(t){return"number"==typeof t}function y(t){return"string"==typeof t}function b(t){return void 0===t}function v(t){return m(t)&&"[object RegExp]"===E(t)}function m(t){return"object"==typeof t&&null!==t}function $(t){return m(t)&&"[object Date]"===E(t)}function w(t){return m(t)&&("[object Error]"===E(t)||t instanceof Error)}function x(t){return"function"==typeof t}function E(t){return Object.prototype.toString.call(t)}function O(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(b(o)&&(o=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!u[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=t.pid;u[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else u[n]=function(){};return u[n]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=_,e.isBoolean=d,e.isNull=p,e.isNullOrUndefined=function(t){return null==t},e.isNumber=g,e.isString=y,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=b,e.isRegExp=v,e.isObject=m,e.isDate=$,e.isError=w,e.isFunction=x,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(16);var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function S(){var t=new Date,e=[O(t.getHours()),O(t.getMinutes()),O(t.getSeconds())].join(":");return[t.getDate(),A[t.getMonth()],e].join(" ")}function j(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",S(),e.format.apply(e,arguments))},e.inherits=n(17),e._extend=function(t,e){if(!e||!m(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var T="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function P(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(T&&t[T]){var e;if("function"!=typeof(e=t[T]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,T,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,i)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),T&&Object.defineProperty(e,T,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=T,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,u=function(){return i.apply(o,arguments)};e.apply(this,n).then((function(e){t.nextTick(u,null,e)}),(function(e){t.nextTick(P,e,u)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}}).call(this,n(15))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(t){r=u}}();var l,f=[],c=!1,a=-1;function h(){c&&l&&(c=!1,l.length?f=l.concat(f):a=-1,f.length&&_())}function _(){if(!c){var t=s(h);c=!0;for(var e=f.length;e;){for(l=f,f=[];++a<e;)l&&l[a].run();a=-1,e=f.length}l=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function p(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new d(t,e)),1!==f.length||c||s(_)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}])}));
//# sourceMappingURL=nvjson.js.map